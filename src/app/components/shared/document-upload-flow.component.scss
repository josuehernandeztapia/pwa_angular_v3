:host {
  display: block;
}

.document-upload {
  display: block;

  &__card {
    padding: var(--space-24, 24px);
    border-radius: 16px;
    background: var(--flat-surface-bg, var(--openai-white));
    box-shadow: var(--shadow-sm, 0 1px 2px rgba(8, 8, 8, 0.08));
    border: 1px solid var(--neutral-300, var(--openai-gray-200));
  }

  &__header {
    display: flex;
    flex-wrap: wrap;
    align-items: baseline;
    justify-content: space-between;
    gap: var(--space-12, 12px);
    margin-bottom: var(--space-20, 20px);
  }

  &__title {
    margin: 0;
    font-size: 0.875rem;
    font-weight: 600;
    color: var(--neutral-700, var(--openai-gray-600));
  }

  &__meta {
    display: inline-flex;
    align-items: center;
    gap: var(--space-12, 12px);
    font-size: 0.8rem;
    color: var(--neutral-500, var(--openai-gray-400));
  }

  &__progress {
    font-weight: 600;
    color: var(--neutral-600, var(--openai-gray-500));
  }

  &__pending {
    color: var(--accent-muted);
    font-weight: 600;
  }

  &__queued {
    color: var(--accent-primary-hover);
    font-weight: 600;
  }

  &__sync {
    margin: 0 0 var(--space-16, 16px);
    padding: var(--space-8, 8px) var(--space-12, 12px);
    border-radius: 12px;
    background: var(--token-surface-accent-tint);
    color: var(--accent-primary-hover);
    font-size: 0.8rem;
  }

  &__dropzone-wrapper {
    margin-bottom: var(--space-24, 24px);
  }

  &__input {
    position: absolute;
    width: 1px;
    height: 1px;
    padding: 0;
    margin: -1px;
    overflow: hidden;
    clip: rect(0, 0, 0, 0);
    white-space: nowrap;
    border: 0;
  }

  &__dropzone {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    width: 100%;
    min-height: 128px;
    border: 2px dashed var(--neutral-400, var(--openai-gray-300));
    border-radius: 12px;
    cursor: pointer;
    background: var(--neutral-100, var(--openai-gray-50));
    transition: background var(--transition-quick, 0.2s ease), border-color var(--transition-quick, 0.2s ease);
    text-align: center;
  }

  &__dropzone:hover {
    background: var(--neutral-100, var(--openai-gray-50));
    border-color: var(--neutral-400, var(--openai-gray-300));
  }

  &__dropzone-inner {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: var(--space-8, 8px);
    padding: var(--space-16, 16px);
  }

  &__dropzone-icon {
    width: 32px;
    height: 32px;
    color: var(--neutral-500, var(--openai-gray-400));
  }

  &__dropzone-text {
    margin: 0;
    font-size: 0.875rem;
    color: var(--neutral-600, var(--openai-gray-500));
  }

  &__status {
    margin-bottom: var(--space-24, 24px);
    display: flex;
    flex-direction: column;
    gap: var(--space-12, 12px);
  }

  &__status-line {
    display: inline-flex;
    align-items: center;
    gap: var(--space-8, 8px);
    font-size: 0.875rem;
    font-weight: 500;
  }

  &__status-line--processing {
    color: var(--accent-muted);
  }

  &__status-line--validated {
    color: var(--accent-primary-hover);
  }

  &__status-line--error {
    color: var(--accent-danger);
  }

  &__status-dot {
    width: 8px;
    height: 8px;
    border-radius: 50%;
    display: inline-block;
    animation: document-upload-pulse 2s ease-in-out infinite;
  }

  &__status-dot--processing {
    background: var(--accent-muted);
  }

  &__status-dot--validated {
    background: var(--accent-primary);
  }

  &__status-dot--error {
    background: var(--accent-danger);
  }

  &__loading {
    display: flex;
    flex-direction: column;
    gap: var(--space-12, 12px);
    animation: document-upload-pulse 2s ease-in-out infinite;
  }

  &__loading-line {
    height: 12px;
    border-radius: 8px;
    background: var(--neutral-300, var(--openai-gray-200));
  }

  &__loading-line--wide {
    width: 75%;
  }

  &__loading-line--narrow {
    width: 50%;
  }

  &__list {
    display: flex;
    flex-direction: column;
    gap: var(--space-12, 12px);
  }

  &__item {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: var(--space-16, 16px);
    border-radius: 12px;
    background: var(--neutral-100, var(--openai-gray-50));
    border: 1px solid var(--neutral-300, var(--openai-gray-200));
  }

  &__item-meta {
    display: flex;
    align-items: center;
    gap: var(--space-12, 12px);
  }

  &__item-icon {
    width: 32px;
    height: 32px;
    border-radius: 8px;
    background: var(--neutral-200, var(--openai-gray-100));
  }

  &__item-copy {
    display: flex;
    flex-direction: column;
    gap: 2px;
  }

  &__item-name {
    margin: 0;
    font-size: 0.95rem;
    font-weight: 600;
    color: var(--neutral-700, var(--openai-gray-600));
  }

  &__item-type {
    margin: 0;
    font-size: 0.75rem;
    color: var(--neutral-500, var(--openai-gray-400));
  }

  &__item-status {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    min-width: 88px;
    padding: 6px 12px;
    border-radius: 999px;
    font-size: 0.75rem;
    font-weight: 600;
    text-transform: capitalize;
  }

  &__item-status--validated {
    background: var(--accent-primary);
    color: var(--accent-primary-hover);
  }

  &__item-status--pending {
    background: var(--accent-muted);
    color: var(--accent-muted);
  }

  &__item-status--error {
    background: var(--accent-danger);
    color: var(--accent-danger);
  }

  &__context {
    margin-top: var(--space-24, 24px);
  }

  @media (prefers-color-scheme: dark) {
    &__card {
      background: var(--neutral-900, var(--openai-gray-800));
      border-color: var(--neutral-700, var(--openai-gray-600));
    }

    &__title {
      color: var(--neutral-100, var(--openai-gray-50));
    }

    &__meta {
      color: var(--neutral-400, var(--openai-gray-400));
    }

    &__progress {
      color: var(--neutral-300, var(--openai-gray-300));
    }

    &__sync {
      background: var(--token-surface-accent-alpha-25);
      color: var(--token-surface-accent-strong);
    }

    &__member {
      border-color: var(--neutral-700, var(--openai-gray-600));
    }

    &__member-title {
      color: var(--neutral-100, var(--openai-gray-50));
    }

    &__member-count {
      color: var(--neutral-400, var(--openai-gray-400));
    }

    &__pending {
      color: var(--token-surface-elevated);
    }

    &__queued {
      color: var(--token-surface-accent-strong);
    }

    &__dropzone {
      background: var(--neutral-900, var(--openai-gray-800));
      border-color: var(--neutral-700, var(--openai-gray-600));
    }

    &__dropzone:hover {
      background: var(--neutral-900, var(--openai-gray-800));
      border-color: var(--neutral-600, var(--openai-gray-500));
    }

    &__dropzone-icon,
    &__dropzone-text {
      color: var(--token-surface-accent-strong);
    }

    &__loading-line {
      background: var(--neutral-800, var(--openai-gray-700));
    }

    &__item {
      background: var(--neutral-900, var(--openai-gray-800));
      border-color: var(--neutral-700, var(--openai-gray-600));
    }

    &__item-name {
      color: var(--neutral-100, var(--openai-gray-50));
    }

    &__item-type {
      color: var(--neutral-300, var(--openai-gray-200));
    }
  }
}

@keyframes document-upload-pulse {
  0%,
  100% {
    opacity: 1;
  }
  50% {
    opacity: 0.5;
  }
}

.document-upload-flow {
  &__success-message {
    font-size: 0.8125rem;
    color: var(--accent-primary-hover);
  }

  &__alert {
    margin-bottom: var(--space-16, 16px);
    padding: var(--space-12, 12px);
    border-radius: 12px;
    background: var(--token-surface-danger-alpha-12);
    color: var(--accent-danger);
    border: 1px solid var(--token-surface-danger-alpha-30);
  }

  &__alert[data-banner-type='offline'] {
    background: var(--token-surface-accent-tint);
    color: var(--accent-primary-hover);
    border-color: var(--token-surface-accent-alpha-30);
  }

  &__alert[data-banner-type='queued'] {
    background: var(--token-surface-warning-alpha-15);
    color: var(--accent-muted);
    border-color: var(--token-surface-warning-alpha-30);
  }

  &__grid {
    display: grid;
    gap: var(--space-16, 16px);
  }

  &__grid--member {
    margin-top: var(--space-12, 12px);
  }

  &__member {
    margin-top: var(--space-24, 24px);
    padding-top: var(--space-16, 16px);
    border-top: 1px solid var(--neutral-200, var(--openai-gray-200));
  }

  &__member-header {
    display: flex;
    align-items: baseline;
    justify-content: space-between;
    gap: var(--space-12, 12px);
    margin-bottom: var(--space-8, 8px);
  }

  &__member-title {
    margin: 0;
    font-size: 0.95rem;
    font-weight: 600;
    color: var(--neutral-700, var(--openai-gray-600));
  }

  &__member-count {
    font-size: 0.75rem;
    color: var(--neutral-500, var(--openai-gray-400));
  }

  &__success {
    margin-top: var(--space-16, 16px);
    padding: var(--space-12, 12px);
    border-radius: 12px;
    background: var(--token-surface-accent-tint);
    color: var(--accent-primary-hover);
    border: 1px solid var(--token-surface-accent-alpha-30);
    font-weight: 600;
  }
.document-card {
  border: 1px solid var(--neutral-300, var(--openai-gray-200));
  border-radius: 16px;
  padding: var(--space-16, 16px);
  background: var(--neutral-50, var(--openai-gray-50));
  display: flex;
  flex-direction: column;
  gap: var(--space-16, 16px);

  &__header {
    display: flex;
    justify-content: space-between;
    gap: var(--space-12, 12px);
  }

  &__title {
    margin: 0;
    font-size: 1rem;
    font-weight: 600;
    color: var(--neutral-700, var(--openai-gray-600));
  }

  &__badge {
    margin-left: var(--space-8, 8px);
    padding: 2px 8px;
    border-radius: 999px;
    background: var(--token-surface-accent-alpha-15);
    color: var(--accent-primary-hover);
    font-size: 0.7rem;
    text-transform: uppercase;
    letter-spacing: 0.04em;
  }

  &__badge--member {
    background: var(--token-surface-accent-soft);
    color: var(--accent-primary-hover);
  }

  &__tooltip {
    margin: var(--space-4, 4px) 0 0;
    font-size: 0.8rem;
    color: var(--neutral-500, var(--openai-gray-400));
  }

  &__status {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    min-width: 96px;
    padding: 6px 12px;
    border-radius: 999px;
    font-size: 0.75rem;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.04em;
  }

  &__status--approved {
    background: var(--token-surface-accent-alpha-15);
    color: var(--accent-primary-hover);
  }

  &__status--pending {
    background: var(--token-surface-warning-alpha-12);
    color: var(--accent-muted);
  }

  &__status--error {
    background: var(--token-surface-danger-alpha-12);
    color: var(--accent-danger);
  }

  &__qa {
    margin: 0;
    padding-left: var(--space-16, 16px);
    list-style: disc;
    color: var(--neutral-600, var(--openai-gray-500));
    font-size: 0.8125rem;
    display: flex;
    flex-direction: column;
    gap: 4px;
  }

  &__qa-item {
    line-height: 1.35;
  }

  &__actions {
    display: flex;
    flex-wrap: wrap;
    gap: var(--space-8, 8px);
  }
}

@media (min-width: 768px) {
  .document-upload__grid {
    grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
  }
}

.document-upload {
  &__banner {
    display: flex;
    justify-content: space-between;
    align-items: center;
    gap: 1rem;
    padding: 0.75rem 1rem;
    margin-bottom: 1rem;
    border-radius: 8px;
    font-size: 0.95rem;
    line-height: 1.4;

    &--warning {
      background: var(--token-surface-warning-alpha-16);
      color: var(--accent-muted);
    }

    &--info {
      background: var(--token-surface-accent-tint);
      color: var(--accent-primary-hover);
    }

    &--alert {
      background: var(--token-surface-danger-alpha-12);
      color: var(--accent-danger);
    }

    button {
      margin-left: auto;
      white-space: nowrap;
    }
  }
}

.document-upload__telemetry {
  margin-top: var(--space-24, 24px);
  padding: var(--space-20, 20px);
  border-radius: 16px;
  border: 1px solid var(--neutral-200, var(--openai-gray-200));
  background: var(--neutral-50, var(--openai-gray-50));
}

.document-upload__telemetry-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: var(--space-12, 12px);
  margin-bottom: var(--space-12, 12px);
}

.document-upload__telemetry-count {
  font-size: 0.8rem;
  color: var(--neutral-500, var(--openai-gray-400));
}

.document-upload__telemetry-summary {
  display: flex;
  flex-wrap: wrap;
  gap: var(--space-12, 12px);
  margin-bottom: var(--space-12, 12px);
  font-size: 0.8rem;
  color: var(--neutral-600, var(--openai-gray-500));
}

.document-upload__telemetry-list {
  list-style: none;
  margin: 0;
  padding: 0;
  display: flex;
  flex-direction: column;
  gap: var(--space-12, 12px);
}

.document-upload__telemetry-item {
  padding-top: var(--space-12, 12px);
  border-top: 1px solid var(--neutral-200, var(--openai-gray-200));
  font-size: 0.85rem;
}

.document-upload__telemetry-row {
  display: flex;
  align-items: center;
  gap: var(--space-8, 8px);
  margin-bottom: var(--space-4, 4px);
}

.document-upload__telemetry-type {
  color: var(--neutral-700, var(--openai-gray-600));
}

.document-upload__telemetry-status {
  color: var(--neutral-500, var(--openai-gray-400));
  font-size: 0.75rem;
}

.document-upload__telemetry-message {
  margin: 0;
  color: var(--neutral-600, var(--openai-gray-500));
}

.document-upload__telemetry-actions {
  margin-top: var(--space-8, 8px);
}

.document-upload__telemetry-empty {
  margin: 0;
  font-size: 0.8rem;
  color: var(--neutral-500, var(--openai-gray-400));
  text-align: center;
}

.document-upload__telemetry-queue {
  margin-top: var(--space-16, 16px);

  h4 {
    margin: 0 0 var(--space-8, 8px) 0;
    font-size: 0.9rem;
    color: var(--neutral-700, var(--openai-gray-600));
  }
}

.document-upload__badge {
  display: inline-flex;
  align-items: center;
  gap: var(--space-4, 4px);
  margin-left: var(--space-8, 8px);
  padding: 2px 8px;
  border-radius: 999px;
  font-size: 0.7rem;
  font-weight: 600;
  background: var(--neutral-200, var(--openai-gray-200));
  color: var(--neutral-700, var(--openai-gray-600));
}

.document-upload__badge--status[data-status='ok'] {
  background: var(--token-surface-accent-alpha-15);
  color: var(--accent-primary-hover);
}

.document-upload__badge--status[data-status='review'] {
  background: var(--token-surface-warning-alpha-15);
  color: var(--accent-muted);
}

.document-upload__badge--status[data-status='error'] {
  background: var(--token-surface-danger-alpha-15);
  color: var(--accent-danger);
}
}
